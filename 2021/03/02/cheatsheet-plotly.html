<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Cheatsheet for Plotly - Zewei Xiong</title>
  <meta name="description" content="Academic homepage of Dr. Zewei Xiong">
  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://zeweixiong.github.io/2021/03/02/cheatsheet-plotly.html">
  <link rel="shortcut icon" type ="image/x-icon" href="https://zeweixiong.github.io/favicon.ico">
  <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <!--<link rel="stylesheet" href="https://cdn.rawgit.com/jpswalsh/academicons/master/css/academicons.min.css">-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons/css/academicons.min.css">

  <link rel="preconnect" href="https://player.vimeo.com">
  <link rel="preconnect" href="https://i.vimeocdn.com">
  <link rel="preconnect" href="https://f.vimeocdn.com">


<!-- Global site tag (gtag.js) - Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-H6HEPJ41K9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-H6HEPJ41K9');
</script>



<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script>
$(document).ready(function(){
  var upperLimit = 5;
  var randomNum = Math.floor((Math.random() * upperLimit));    
  $("body").toggleClass('abcdefghijklmnopqrstuvwxyz'[randomNum]);
});
</script>

</head>


  <body>

    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id="
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

<nav class="navbar sticky-top navbar-expand-md navbar-light bg-light">
    <a class="navbar-brand" href="https://zeweixiong.github.io/">
      <img src="https://zeweixiong.github.io/favicon.ico" width="30" height="30" style="margin-right:5px" class="d-inline-block align-top" alt="">
      Zewei Xiong
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor02">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="https://zeweixiong.github.io/">Home</a>
        </li> 
        
          <li class="nav-item">
            <a class="nav-link" href="https://zeweixiong.github.io/about">About</a>
          </li> 
        
          <li class="nav-item">
            <a class="nav-link" href="https://zeweixiong.github.io/publications">Publications</a>
          </li> 
        
          <li class="nav-item">
            <a class="nav-link" href="https://zeweixiong.github.io/talks">Talks</a>
          </li> 
        
          <li class="nav-item">
            <a class="nav-link" href="https://zeweixiong.github.io/blog">Blog</a>
          </li> 
        
      </ul>
    </div>
</nav>


    <div class="container-fluid", style="max-width: 90vw">
      <div class="row">
        <style>
* {
box-sizing: border-box;
}


.tags {
margin-bottom: -5px;
}
div {
display: block;
}


.highlight pre, pre, .highlight .hll {
background-color: #f8f8f8;
border: 1px solid #ccc;
padding: 6px 10px;
border-radius: 3px;
}
.highlight pre code {
white-space: pre;
}
.highlight pre {
overflow-x: auto;
}
pre code {
display: block;
width: auto;
word-wrap: normal;
padding: 0;
font-size: inherit;
color: inherit;
white-space: pre-wrap;
background-color: transparent;
border-radius: 0;
}
code {
padding: 2px 4px;
font-size: 90%;
color: #c7254e;
background-color: #f9f2f4;
border-radius: 4px;
}
code, pre {
font-family: Menlo,Monaco,Consolas,"Courier New",monospace;
}


.post-container ul, .post-container ol {
margin-bottom: 40px;
}
.pager {
margin: 20px 0 0!important;
padding: 0!important;
text-align: center;
list-style: none;
}
.pager:before {
display: table;
content: " ";
}
.pager:after {
clear: both;
}
.pager li>a:hover, .pager li>a:focus {
color: #fff;
background-color: #0085a1;
border: 1px solid #0085a1;
}
.post-container .pager li.previous {
float: left;
}
.post-container .pager li.next {
float: right;
}
.post-container .pager li {
width: 48%;
}
.pager li {
display: inline;
}
.post-container .pager li>a {
width: 100%;
}
:-internal-direct-focus {
outline-color: -webkit-focus-ring-color;
outline-style: auto;
outline-width: 5px;
}
::selection {
color: #fff;
text-shadow: none;
background: #0085a1;
}
ul, menu, dir {
display: block;
margin-inline-start: 0px;
margin-inline-end: 0px;
padding-inline-start: 40px;
}

li ol li{
list-style-type: lower-alpha;
}
li ol li ol li{
list-style-type: lower-roman;
}
</style>



<div id="gridid" class="col-sm-12 col-xs-12">


<header class="post-header">
  <div class="tags">
    
      <a class="tag" href="https://zeweixiong.github.io/tags/#cheatsheet" title="cheatsheet">cheatsheet</a>
    
  </div>
  <h1 class="post-title">Cheatsheet for Plotly</h1>
  <h3 class="subheading">Plotly command</h3>
  <span class="meta"><i>Posted on March 2, 2021</i></span>
</header>

<div class="jumbotron">
<article>
<!-- Post Content -->
  <div class="post-container">
    <div class="row">
    <!--<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container">-->
    <div class="col-lg-12 col-md-12">

    <h3 id="cheatsheet-for-plotly-basic">Cheatsheet for Plotly basic</h3>

<p>Plotly is an interactive plotting tool.</p>

<p>Initialize Plotly in this way:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># import plotly
</span>
<span class="kn">from</span> <span class="n">plotly.offline</span> <span class="kn">import</span> <span class="n">download_plotlyjs</span><span class="p">,</span> <span class="n">init_notebook_mode</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">iplot</span>
<span class="nf">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="kn">import</span> <span class="n">cufflinks</span> <span class="k">as</span> <span class="n">cf</span>
<span class="n">cf</span><span class="p">.</span><span class="nf">go_offline</span><span class="p">()</span>
</code></pre></div></div>

<p>Possible plotting methods using Plotly:</p>
<ul>
  <li>scatter</li>
  <li>bar</li>
  <li>box</li>
  <li>spread</li>
  <li>ratio</li>
  <li>heatmap</li>
  <li>surface</li>
  <li>histogram</li>
  <li>bubble</li>
  <li>candle (must specify ‘Open’,’High’,’Low’,’Close’ of the data)</li>
</ul>

<p>Here are some examples:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="nf">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="sh">'</span><span class="s">scatter</span><span class="sh">'</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="sh">'</span><span class="s">A</span><span class="sh">'</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="sh">'</span><span class="s">B</span><span class="sh">'</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="sh">'</span><span class="s">markers</span><span class="sh">'</span><span class="p">,</span><span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nc">DataFrame</span><span class="p">({</span><span class="sh">'</span><span class="s">x</span><span class="sh">'</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span><span class="sh">'</span><span class="s">y</span><span class="sh">'</span><span class="p">:[</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">10</span><span class="p">],</span><span class="sh">'</span><span class="s">z</span><span class="sh">'</span><span class="p">:[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]})</span>
<span class="n">df</span><span class="p">.</span><span class="nf">iplot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="sh">'</span><span class="s">surface</span><span class="sh">'</span><span class="p">,</span><span class="n">colorscale</span><span class="o">=</span><span class="sh">'</span><span class="s">rdylbu</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div>

<p>One more plotting method, <code class="language-plaintext highlighter-rouge">scatter_matrix()</code>, is similar to <code class="language-plaintext highlighter-rouge">sns.pairplot()</code>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="nf">scatter_matrix</span><span class="p">()</span>
</code></pre></div></div>

<p>Other miscellaneous plotting methods:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="nf">ta_plot</span><span class="p">(</span><span class="n">study</span><span class="o">=</span><span class="sh">'</span><span class="s">sma</span><span class="sh">'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="plotly-provides-various-plotting-methods-for-geographical-plotting">Plotly provides various plotting methods for geographical plotting</h3>
<p>Initialization:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">chart_studio.plotly</span> <span class="k">as</span> <span class="n">py</span>
<span class="kn">import</span> <span class="n">plotly.graph_objs</span> <span class="k">as</span> <span class="n">go</span> 
<span class="kn">from</span> <span class="n">plotly.offline</span> <span class="kn">import</span> <span class="n">download_plotlyjs</span><span class="p">,</span> <span class="n">init_notebook_mode</span><span class="p">,</span> <span class="n">plot</span><span class="p">,</span> <span class="n">iplot</span>
<span class="nf">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span> 
</code></pre></div></div>

<p>We need to begin to build our data dictionary. Easiest way to do this is to use the <strong>dict()</strong> function of the general form:</p>

<ul>
  <li>type = ‘choropleth’,</li>
  <li>locations = list of states</li>
  <li>locationmode = ‘USA-states’</li>
  <li>colorscale=</li>
</ul>

<p>Either a predefined string:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'pairs' | 'Greys' | 'Greens' | 'Bluered' | 'Hot' | 'Picnic' | 'Portland' | 'Jet' | 'RdBu' | 'Blackbody' | 'Earth' | 'Electric' | 'YIOrRd' | 'YIGnBu'
</code></pre></div></div>

<p>or create a <a href="https://plot.ly/python/heatmap-and-contour-colorscales/">custom colorscale</a></p>

<ul>
  <li>text= list or array of text to display per point</li>
  <li>z= array of values on z axis (color of state)</li>
  <li>colorbar = {‘title’:’Colorbar Title’})</li>
</ul>

<p>Here are two short examples:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="sh">'</span><span class="s">choropleth</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">locations</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">AZ</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">CA</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">NY</span><span class="sh">'</span><span class="p">],</span>
            <span class="n">locationmode</span> <span class="o">=</span> <span class="sh">'</span><span class="s">USA-states</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">colorscale</span><span class="o">=</span> <span class="sh">'</span><span class="s">Portland</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">text</span><span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">text1</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">text2</span><span class="sh">'</span><span class="p">,</span><span class="sh">'</span><span class="s">text3</span><span class="sh">'</span><span class="p">],</span>
            <span class="n">z</span><span class="o">=</span><span class="p">[</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">],</span>
            <span class="n">colorbar</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span><span class="p">:</span><span class="sh">'</span><span class="s">Colorbar Title</span><span class="sh">'</span><span class="p">})</span>
            
<span class="n">layout</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="sh">'</span><span class="s">2011 US Agriculture Exports by State</span><span class="sh">'</span><span class="p">,</span>
              <span class="n">geo</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="sh">'</span><span class="s">usa</span><span class="sh">'</span><span class="p">,</span>
                         <span class="n">showlakes</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
                         <span class="n">lakecolor</span> <span class="o">=</span> <span class="sh">'</span><span class="s">rgb(160,90,240)</span><span class="sh">'</span><span class="p">)</span>
             <span class="p">)</span>
<span class="n">choromap</span> <span class="o">=</span> <span class="n">go</span><span class="p">.</span><span class="nc">Figure</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">data</span><span class="p">],</span><span class="n">layout</span> <span class="o">=</span> <span class="n">layout</span><span class="p">)</span>
<span class="nf">iplot</span><span class="p">(</span><span class="n">choromap</span><span class="p">)</span>
</code></pre></div></div>
<p>or</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="sh">'</span><span class="s">choropleth</span><span class="sh">'</span><span class="p">,</span>
            <span class="n">locations</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">CODE</span><span class="sh">'</span><span class="p">],</span>
            <span class="n">z</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">GDP (BILLIONS)</span><span class="sh">'</span><span class="p">],</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">COUNTRY</span><span class="sh">'</span><span class="p">],</span>
            <span class="n">colorbar</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">title</span><span class="sh">'</span> <span class="p">:</span> <span class="sh">'</span><span class="s">Here is colorbar title</span><span class="sh">'</span><span class="p">})</span>
<span class="n">layout</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="sh">'</span><span class="s">2014 Global GDP</span><span class="sh">'</span><span class="p">,</span>
              <span class="n">geo</span> <span class="o">=</span> <span class="nf">dict</span><span class="p">(</span><span class="n">showframe</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
                         <span class="n">projection</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">type</span><span class="sh">'</span><span class="p">:</span><span class="sh">'</span><span class="s">natural earth</span><span class="sh">'</span><span class="p">})</span> <span class="c1"># or mercator
</span>           <span class="p">)</span>
</code></pre></div></div>

<p>For more details, please refer to <a href="https://plotly.com/python/reference/#choropleth">Plotly choropleth</a>.</p>


    <hr style="visibility: hidden;">

    <ul class="pager">
      
      <li class="previous">
        <a href="/2021/03/01/cheatsheet-matplotlib.html" data-toggle="tooltip" data-placement="top" title="Cheatsheet for Matplotlib">
        Previous<br>
        <span>Cheatsheet for Matplotlib</span>
        </a>
      </li>
      
      
      <li class="next">
        <a href="/2024/06/07/latex-in-html.html" data-toggle="tooltip" data-placement="top" title="LaTeX in HTML">
        Next<br>
        <span>LaTeX in HTML</span>
        </a>
      </li>
      
    </ul>

    </div>
    </div> 
  </div>  
</article>
</div>


</div>



      </div>
    </div>

    <br/>
<section id="footer">
<div class="container-footer">
  <div class="panel-footer">
  <div class="row">
  <div class="col-sm-6">
    <h5><a href="https://zeweixiong.github.io/contact">Contact</a></h5>
    <p>Zewei Xiong<br/> Junior Scientific Researcher<br/> GSI Helmholtzzentrum für Schwerionenforschung<br/> Planckstraße 1<br/> 64291 Darmstadt, Germany
</p>
  </div>

  <div class="col-sm-2">
  </div>

  <div class="col-sm-4">
    <h5>Fundings</h5>	
    <a href="https://erc.europa.eu" title="ERC" target="_blank"><img width="100%" src="https://zeweixiong.github.io/images/LOGO_ERC-FLAG_FP.png" alt="EU flag"></a>
  </div>
</div>

      <center><p>&copy 2025 Zewei Xiong </p></center>
	</div>
  </div>
</div>

<script src="/assets/javascript/bootstrap/jquery.min.js"></script>
<!-- <script src="/https://zeweixiong.github.io/assets/javascript/popper/dist/umd/popper.min.js"></script> -->
<script src="/assets/javascript/bootstrap/bootstrap.bundle.min.js"></script>
<!-- <script src="/https://zeweixiong.github.io/assets/javascript/shb.js"></script> -->


  </body>

</html>
